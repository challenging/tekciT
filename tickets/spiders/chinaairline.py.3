import scrapy

class ChinaAirlineSpider(scrapy.Spider):
    name = 'chinaairline'
    start_urls = ['https://caleb.china-airlines.com/olbn/travel.aspx']

    def parse(self, response):
        eventAgent = response.xpath("//input[@name='__VIEWSTATE']//@value").extract()[0]
        eventValidation = response.xpath("//input[@name='__EVENTVALIDATION']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$trip = response.xpath("//input[@name='ctl00$ContentPlaceHolder1$trip']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$goDate = response.xpath("//input[@name='ctl00$ContentPlaceHolder1$goDate']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$backDate = response.xpath("//input[@name='ctl00$ContentPlaceHolder1$backDate']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$backNotSure = response.xpath("//input[@name='ctl00$ContentPlaceHolder1$backNotSure']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$periodType = response.xpath("//input[@name='ctl00$ContentPlaceHolder1$periodType']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$stopover = response.xpath("//input[@name='']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$errRedirect = response.xpath("//input[@name='']//@value").extract()[0]
        #ctl00$ContentPlaceHolder1$promoDateStr = response.xpath("//input[@name='']//@value").extract()[0]

        return scrapy.FormRequest(url = "https://caleb.china-airlines.com/olbn/Fare.aspx",
                                 formdata = {
                                     'ctl00$ContentPlaceHolder1$trip': 'roundtrip',
                                     'ctl00$ContentPlaceHolder1$startCity': 'TPE',
                                     'ctl00$ContentPlaceHolder1$goMonth': '2015-01',
                                     'ctl00$ContentPlaceHolder1$goDay': '23',
                                     'ctl00$ContentPlaceHolder1$endCity': 'KIX',
                                     'ctl00$ContentPlaceHolder1$backNotSure': '1',
                                     'ctl00$ContentPlaceHolder1$cabinClass': 'Y',
                                     'ctl00$ContentPlaceHolder1$adultNumber': '1',
                                     'ctl00$ContentPlaceHolder1$childNumber': '0',
                                     '__EVENTTARGET': '',
                                     '__EVENTARGUMENT': '',
                                     '__LASTFOCUS': '',
                                     '__VIEWSTATE': '/wEPDwUKMTMyMjk4NDMxMg9kFgJmD2QWBAIJD2QWAgIBD2QWFgIBDxYCHgRUZXh0BTo8c3Bhbj5UUEUg5Y+w5YyXKOahg+WckikgIC0gS0lYIOWkp+mYqiA8L3NwYW4+ICjkvoblm57nqIspZAICDxYCHwAFMDxwPjxzcGFuPuWOu+eoizwvc3Bhbj4gMjAxNS8wMS8yNiDmmJ/mnJ/kuIAgPC9wPmQCAw8WAh8ABWU8c3Bhbj7luaPliKU6PC9zcGFuPlRXRCB8IDxzcGFuPuiJmeetiTo8L3NwYW4+57aT5r+f6ImZIHwgPHNwYW4+5peF5a6iOjwvc3Bhbj4g5oiQ5Lq6IHggMSDlhZLnq6UgeCAwIGQCCw88KwARAgAPFgQeC18hRGF0YUJvdW5kZx4LXyFJdGVtQ291bnQCAmQBEBYAFgAWABYCZg9kFghmD2QWCGYPDxYCHwAFBTE05aSpZGQCAQ8PFgIfAAUHMeWAi+aciGRkAgIPDxYCHwAFBzPlgIvmnIhkZAIDDw8WAh8ABQgxMuWAi+aciGRkAgEPZBYIZg9kFgQCAQ8QDxYEHgdDaGVja2VkZx8ABQYxMiwyOTgWAh4FdmFsdWUFCDEzMjYwMzIwZGRkAgcPDxYCHgdWaXNpYmxlZ2RkAgEPZBYEAgEPEA8WAh8ABQYxNCwyOTgWAh8EBQgxMzI2MDAzOGRkZAIHDw8WAh8FZ2RkAgIPZBYEAgEPEA8WAh8ABQYxNiw1OTgWAh8EBQgxMzI1OTg5M2RkZAIHDw8WAh8FZ2RkAgMPZBYEAgEPEA8WAh8ABQYxOCw3OTgWAh8EBQgxMzI2MDAyMmRkZAIHDw8WAh8FZ2RkAgIPZBYEZg9kFgQCAQ8QDxYCHwAFBjEzLDI5OBYCHwQFCDEzMjYwMTc3ZGRkAgcPDxYCHwVnZGQCAQ9kFgQCAQ8QDxYCHwAFBjE0LDU5OBYCHwQFCDEzMjYwMDMyZGRkAgcPDxYCHwVnZGQCAw8PFgIfBWhkZAINDxYCHwAFCDEzMjYwMzIwZAIODxYCHwAF3go8bGk+6KiC5L2N6ImZ562J77ya5Y6756iLIOe2k+a/n+iJmVIgPC9saT4NCjxsaT48YSBocmVmPSJodHRwOi8vd3d3LmNoaW5hLWFpcmxpbmVzLmNvbS9jaC9jbHVicy9hMWQ1YjNjNi04YmY4LTQxN2ItYjIzYS0xYWIwODU1MzUwN2UuaHRtbCIgdGFyZ2V0PSJfYmxhbmsiPuWTqeeoi+e0r+epjTwvYT7vvJrljrvnqIs65Y+v44CC6aOb6KGM5ZOp56iL5pyD5Zug6KiC5L2N6ImZ562J5pyJ5LiN5ZCM57Sv56mN5q+U5L6L77yM6KuL5Y+D6ZaxPGEgaHJlZj0iaHR0cDovL3d3dy5jaGluYS1haXJsaW5lcy5jb20vY2gvY2x1YnMvYTFkNWIzYzYtOGJmOC00MTdiLWIyM2EtMWFiMDg1NTM1MDdlLmh0bWwiIHRhcmdldD0iX2JsYW5rIj7oj6/oiKov6I+v5L+h5ZOp56iL57Sv56mNPC9hPuOAguafpeipojxhIGhyZWY9Imh0dHBzOi8vY2FsZWMuY2hpbmEtYWlybGluZXMuY29tL2NsdWIvYWNjcnVxcnkuYXNweD9sYW5nPWMiIHRhcmdldD0iX2JsYW5rIj7oiKrmrrXlk6nnqIs8L2E+PC9saT4NCjxsaT48YSBocmVmPSJodHRwOi8vd3d3LmNoaW5hLWFpcmxpbmVzLmNvbS9jaC9jbHVicy8wM2NmYzBmOC02NTI2LTRiYzQtOGJkOS02NDkxNzM3YTI4YmUuaHRtbCIgdGFyZ2V0PSJfYmxhbmsiPuWTqeeoi+aVuOWFjOaPm+W6p+iJmeWNh+etiTwvYT7vvJrljrvnqIs65Y+v77yM5pys5YWs5Y+46IiH5YW25LuW6Iiq56m65YWs5Y+45YWx55So54+t6Jmf5LmL54+t5qmf5LiN6YGp55So77yM6KuL5Y+D6Zax6I+v5aSP5ZOp56iL6YWs6LOT5o+b542O6L6m5rOVPC9saT4NCjxsaT7mnIDlpJrlgZznlZnmmYLplpPvvJoxNCDlpKk8L2xpPg0KPGxpPuelqOWDueWHuueZvOmBqeeUqOiIquePreWPiuaZgumWk++8mumZkOaQrSAgMTI6MDAtMjM6NTkgIOiIquePrTwvbGk+DQo8bGk+56Wo5YO55Zue56iL6YGp55So6Iiq54+t5Y+K5pmC6ZaT77ya54Sh6ZmQ5Yi2PC9saT4NCjxsaT48Zm9udCBjb2xvcj0ncmVkJz7pgIDnpajvvJrlj68gLCDpgIDnpajmiYvnuozosrso5q+P5Lq6Ke+8mlRXRDcwMDwv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KCJodHRwczoiID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8iaHR0cHM6Ly9zc2wudml6dXJ5LmNvbSIgOiAiaHR0cDovL3NlcnYzLnZpenVyeS5jb20iKSsgIi9hbmFseXplL3BpeGVsLnBocD9hY2NvdW50X2lkPVZJWlZSTTExNzkiOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodml6LCBzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpei5vbmxvYWQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXhlbC5wYXJzZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdml6Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aXoucmVhZHlTdGF0ZSA9PSAiY29tcGxldGUiIHx8IHZpei5yZWFkeVN0YXRlID09ICJsb2FkZWQiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXhlbC5wYXJzZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgPC9zY3JpcHQ+ZBgFBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WGQU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDIkcmRvU2VsZWN0RmFyZTAFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAyJHJkb1NlbGVjdEZhcmUxBT5jdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHRyaXBTZWxlY3RUYWJsZSRjdGwwMiRyZG9TZWxlY3RGYXJlMQU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDIkcmRvU2VsZWN0RmFyZTIFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAyJHJkb1NlbGVjdEZhcmUyBT5jdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHRyaXBTZWxlY3RUYWJsZSRjdGwwMiRyZG9TZWxlY3RGYXJlMwU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDIkcmRvU2VsZWN0RmFyZTMFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAyJHJkb1NlbGVjdEZhcmU0BT5jdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHRyaXBTZWxlY3RUYWJsZSRjdGwwMiRyZG9TZWxlY3RGYXJlNAU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDIkcmRvU2VsZWN0RmFyZTUFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAyJHJkb1NlbGVjdEZhcmU1BT5jdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHRyaXBTZWxlY3RUYWJsZSRjdGwwMyRyZG9TZWxlY3RGYXJlMAU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDMkcmRvU2VsZWN0RmFyZTAFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAzJHJkb1NlbGVjdEZhcmUxBT5jdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHRyaXBTZWxlY3RUYWJsZSRjdGwwMyRyZG9TZWxlY3RGYXJlMQU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDMkcmRvU2VsZWN0RmFyZTIFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAzJHJkb1NlbGVjdEZhcmUyBT5jdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHRyaXBTZWxlY3RUYWJsZSRjdGwwMyRyZG9TZWxlY3RGYXJlMwU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDMkcmRvU2VsZWN0RmFyZTMFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAzJHJkb1NlbGVjdEZhcmU0BT5jdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHRyaXBTZWxlY3RUYWJsZSRjdGwwMyRyZG9TZWxlY3RGYXJlNAU+Y3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSR0cmlwU2VsZWN0VGFibGUkY3RsMDMkcmRvU2VsZWN0RmFyZTUFPmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlJGN0bDAzJHJkb1NlbGVjdEZhcmU1BTxjdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHByaWNlVG90YWxUYWJsZSRjdGwwMiRidG5QcmljZUhlbHAFOmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkcHJpY2VUb3RhbFRhYmxlJGN0bDAyJGJ0blRheEhlbHAFKGN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkY3RsMTckZ3ZGbGlnaHQPPCsADAEIAgFkBSljdGwwMCRDb250ZW50UGxhY2VIb2xkZXIxJHByaWNlVG90YWxUYWJsZQ88KwAMAQgCAWQFKmN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkZ3ZUaWNrZXRSdWxlTW9yZQ88KwAMAQgCAWQFKWN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkdHJpcFNlbGVjdFRhYmxlDzwrAAwBCAIBZIeK6P863zSe+/hAHedzfD6JVTeh',
                                     '__EVENTVALIDATION': '/wEWEwLHz8+qCQKrp7mzDgKGvof/CwL9xq3VCAKrp/n6CALJ/pOvDgLJ/puvDgLJt8LRBAK16/7sCwL6q4KMBwL6q7qMBwL6q4KMBwL6q4qMBwKSno/tDwLUwOSrDgKe//3qBAKy5cf2BwL2hK6EBQKC3rPqDp1toob8NBlP6RWfi29VW6qV3TS6',
                                     },
                                 method = "POST",
                                 callback=self.ticket)
        return request

    def ticket(self, response):
        for value in response.xpath("//label[re:test(@for, 'rdoSelectFare(\d+)')]/text()").extract():
            print value
